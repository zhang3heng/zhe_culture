var pathRegexp=require("path-to-regexp");var debug=require("debug")("express:router:layer");module.exports=Layer;function Layer(c,a,b){if(!(this instanceof Layer)){return new Layer(c,a,b)}debug("new %s",c);a=a||{};this.regexp=pathRegexp(c,this.keys=[],a);this.handle=b}Layer.prototype.match=function(o){var l=this.keys;var f=this.params={};var c=this.regexp.exec(o);var a=0;var k;var b;if(!c){return false}this.path=c[0];for(var g=1,h=c.length;g<h;++g){k=l[g-1];try{b="string"==typeof c[g]?decodeURIComponent(c[g]):c[g]}catch(j){var d=new Error("Failed to decode param '"+c[g]+"'");d.status=400;throw d}if(k){f[k.name]=b}else{f[a++]=b}}return true};