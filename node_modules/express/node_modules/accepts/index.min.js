var Negotiator=require("negotiator");var mime=require("mime");var slice=[].slice;module.exports=Accepts;function Accepts(a){if(!(this instanceof Accepts)){return new Accepts(a)}this.headers=a.headers;this.negotiator=Negotiator(a)}Accepts.prototype.type=Accepts.prototype.types=function(c){if(!Array.isArray(c)){c=slice.call(arguments)}var e=this.negotiator;if(!c.length){return e.preferredMediaTypes()}if(!this.headers.accept){return c[0]}var a=c.map(extToMime);var b=e.preferredMediaTypes(a);var d=b[0];if(!d){return false}return c[a.indexOf(d)]};Accepts.prototype.encoding=Accepts.prototype.encodings=function(a){if(!Array.isArray(a)){a=slice.call(arguments)}var b=this.negotiator;if(!a.length){return b.preferredEncodings()}return b.preferredEncodings(a)[0]||"identity"};Accepts.prototype.charset=Accepts.prototype.charsets=function(a){if(!Array.isArray(a)){a=[].slice.call(arguments)}var b=this.negotiator;if(!a.length){return b.preferredCharsets()}if(!this.headers["accept-charset"]){return a[0]}return b.preferredCharsets(a)[0]||false};Accepts.prototype.lang=Accepts.prototype.langs=Accepts.prototype.language=Accepts.prototype.languages=function(a){if(!Array.isArray(a)){a=slice.call(arguments)}var b=this.negotiator;if(!a.length){return b.preferredLanguages()}if(!this.headers["accept-language"]){return a[0]}return b.preferredLanguages(a)[0]||false};function extToMime(a){if(~a.indexOf("/")){return a}return mime.lookup(a)};