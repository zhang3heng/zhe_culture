/*
 * Connect - methodOverride
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */
var methods=require("methods");module.exports=function methodOverride(a){a=a||"_method";return function b(e,c,d){var f;e.originalMethod=e.originalMethod||e.method;if(e.body&&typeof e.body==="object"&&a in e.body){f=e.body[a].toLowerCase();delete e.body[a]}if(e.headers["x-http-method-override"]){f=e.headers["x-http-method-override"].toLowerCase()}if(supports(f)){e.method=f.toUpperCase()}d()}};function supports(a){return ~methods.indexOf(a)};