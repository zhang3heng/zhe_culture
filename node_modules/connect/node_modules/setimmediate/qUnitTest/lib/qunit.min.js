(function(g){var c={setTimeout:typeof g.setTimeout!=="undefined",sessionStorage:(function(){try{return !!sessionStorage.getItem}catch(u){return false}})()};var m=0;var b=function(w,v,y,u,x,z){this.name=w;this.testName=v;this.expected=y;this.testEnvironmentArg=u;this.async=x;this.callback=z;this.assertions=[]};b.prototype={init:function(){var w=o("qunit-tests");if(w){var v=document.createElement("strong");v.innerHTML="Running "+this.name;var u=document.createElement("li");u.appendChild(v);u.className="running";u.id=this.id="test-output"+m++;w.appendChild(u)}},setup:function(){if(this.module!=t.previousModule){if(t.previousModule){r.moduleDone({name:t.previousModule,failed:t.moduleStats.bad,passed:t.moduleStats.all-t.moduleStats.bad,total:t.moduleStats.all})}t.previousModule=this.module;t.moduleStats={all:0,bad:0};r.moduleStart({name:this.module})}t.current=this;this.testEnvironment=s({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);if(this.testEnvironmentArg){s(this.testEnvironment,this.testEnvironmentArg)}r.testStart({name:this.testName});r.current_testEnvironment=this.testEnvironment;try{if(!t.pollution){q()}this.testEnvironment.setup.call(this.testEnvironment)}catch(u){r.ok(false,"Setup failed on "+this.testName+": "+u.message)}},run:function(){if(this.async){r.stop()}if(t.notrycatch){this.callback.call(this.testEnvironment);return}try{this.callback.call(this.testEnvironment)}catch(u){e("Test "+this.testName+" died, exception and test follows",u,this.callback);r.ok(false,"Died on test #"+(this.assertions.length+1)+": "+u.message+" - "+r.jsDump.parse(u));q();if(t.blocking){start()}}},teardown:function(){try{this.testEnvironment.teardown.call(this.testEnvironment);j()}catch(u){r.ok(false,"Teardown failed on "+this.testName+": "+u.message)}},finish:function(){if(this.expected&&this.expected!=this.assertions.length){r.ok(false,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run")}var w=0,u=0,v=o("qunit-tests");t.stats.all+=this.assertions.length;t.moduleStats.all+=this.assertions.length;if(v){var z=document.createElement("ol");for(var x=0;x<this.assertions.length;x++){var D=this.assertions[x];var C=document.createElement("li");C.className=D.result?"pass":"fail";C.innerHTML=D.message||(D.result?"okay":"failed");z.appendChild(C);if(D.result){w++}else{u++;t.stats.bad++;t.moduleStats.bad++}}if(r.config.reorder&&c.sessionStorage){if(u){sessionStorage.setItem("qunit-"+this.module+"-"+this.testName,u)}else{sessionStorage.removeItem("qunit-"+this.module+"-"+this.testName)}}if(u==0){z.style.display="none"}var A=document.createElement("strong");A.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+u+"</b>, <b class='passed'>"+w+"</b>, "+this.assertions.length+")</b>";var B=document.createElement("a");B.innerHTML="Rerun";B.href=r.url({filter:a([A]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")});p(A,"click",function(){var E=A.nextSibling.nextSibling,F=E.style.display;E.style.display=F==="none"?"block":"none"});p(A,"dblclick",function(F){var E=F&&F.target?F.target:g.event.srcElement;if(E.nodeName.toLowerCase()=="span"||E.nodeName.toLowerCase()=="b"){E=E.parentNode}if(g.location&&E.nodeName.toLowerCase()==="strong"){g.location=r.url({filter:a([E]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")})}});var C=o(this.id);C.className=u?"fail":"pass";C.removeChild(C.firstChild);C.appendChild(A);C.appendChild(B);C.appendChild(z)}else{for(var x=0;x<this.assertions.length;x++){if(!this.assertions[x].result){u++;t.stats.bad++;t.moduleStats.bad++}}}try{r.reset()}catch(y){e("reset() failed, following Test "+this.testName+", exception and reset fn follows",y,r.reset)}r.testDone({name:this.testName,failed:u,passed:this.assertions.length-u,total:this.assertions.length})},queue:function(){var w=this;h(function(){w.init()});function u(){h(function(){w.setup()});h(function(){w.run()});h(function(){w.teardown()});h(function(){w.finish()})}var v=r.config.reorder&&c.sessionStorage&&+sessionStorage.getItem("qunit-"+this.module+"-"+this.testName);if(v){u()}else{h(u)}}};var r={module:function(u,v){t.currentModule=u;t.currentModuleTestEnviroment=v},asyncTest:function(u,v,w){if(arguments.length===2){w=v;v=0}r.test(u,v,w,true)},test:function(v,y,A,x){var w='<span class="test-name">'+v+"</span>",u;if(arguments.length===2){A=y;y=null}if(y&&typeof y==="object"){u=y;y=null}if(t.currentModule){w='<span class="module-name">'+t.currentModule+"</span>: "+w}if(!f(t.currentModule+": "+v)){return}var z=new b(w,v,y,u,x,A);z.module=t.currentModule;z.moduleTestEnvironment=t.currentModuleTestEnviroment;z.queue()},expect:function(u){t.current.expected=u},ok:function(u,w){u=!!u;var v={result:u,message:w};w=l(w);r.log(v);t.current.assertions.push({result:u,message:w})},equal:function(w,v,u){r.push(v==w,w,v,u)},notEqual:function(w,v,u){r.push(v!=w,w,v,u)},deepEqual:function(w,v,u){r.push(r.equiv(w,v),w,v,u)},notDeepEqual:function(w,v,u){r.push(!r.equiv(w,v),w,v,u)},strictEqual:function(w,v,u){r.push(v===w,w,v,u)},notStrictEqual:function(w,v,u){r.push(v!==w,w,v,u)},raises:function(y,w,v){var z,u=false;if(typeof w==="string"){v=w;w=null}try{y()}catch(x){z=x}if(z){if(!w){u=true}else{if(r.objectType(w)==="regexp"){u=w.test(z)}else{if(z instanceof w){u=true}else{if(w.call({},z)===true){u=true}}}}}r.ok(u,v)},start:function(){t.semaphore--;if(t.semaphore>0){return}if(t.semaphore<0){t.semaphore=0}if(c.setTimeout){g.setTimeout(function(){if(t.timeout){clearTimeout(t.timeout)}t.blocking=false;n()},13)}else{t.blocking=false;n()}},stop:function(u){t.semaphore++;t.blocking=true;if(u&&c.setTimeout){clearTimeout(t.timeout);t.timeout=g.setTimeout(function(){r.ok(false,"Test timed out");r.start()},u)}}};r.equals=r.equal;r.same=r.deepEqual;var t={queue:[],blocking:true,reorder:true,noglobals:false,notrycatch:false};(function(){var u=g.location||{search:"",protocol:"file:"},z=u.search.slice(1).split("&"),x=z.length,v={},y;if(z[0]){for(var w=0;w<x;w++){y=z[w].split("=");y[0]=decodeURIComponent(y[0]);y[1]=y[1]?decodeURIComponent(y[1]):true;v[y[0]]=y[1];if(y[0] in t){t[y[0]]=y[1]}}}r.urlParams=v;t.filter=v.filter;r.isLocal=!!(u.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){s(g,r);g.QUnit=r}else{s(exports,r);exports.QUnit=r}s(r,{config:t,init:function(){s(t,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1000,blocking:false,autostart:true,autorun:false,filter:"",queue:[],semaphore:0});var w=o("qunit-tests"),v=o("qunit-banner"),u=o("qunit-testresult");if(w){w.innerHTML=""}if(v){v.className=""}if(u){u.parentNode.removeChild(u)}if(w){u=document.createElement("p");u.id="qunit-testresult";u.className="result";w.parentNode.insertBefore(u,w);u.innerHTML="Running...<br/>&nbsp;"}},reset:function(){if(g.jQuery){jQuery("#qunit-fixture").html(t.fixture)}else{var u=o("qunit-fixture");if(u){u.innerHTML=t.fixture}}},triggerEvent:function(w,u,v){if(document.createEvent){v=document.createEvent("MouseEvents");v.initMouseEvent(u,true,true,w.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);w.dispatchEvent(v)}else{if(w.fireEvent){w.fireEvent("on"+u)}}},is:function(u,v){return r.objectType(v)==u},objectType:function(v){if(typeof v==="undefined"){return"undefined"}if(v===null){return"null"}var u=Object.prototype.toString.call(v).match(/^\[object\s(.*)\]$/)[1]||"";switch(u){case"Number":if(isNaN(v)){return"nan"}else{return"number"}case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return u.toLowerCase()}if(typeof v==="object"){return"object"}return undefined},push:function(u,A,y,x){var w={result:u,message:x,actual:A,expected:y};x=l(x)||(u?"okay":"failed");x='<span class="test-message">'+x+"</span>";y=l(r.jsDump.parse(y));A=l(r.jsDump.parse(A));var v=x+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+y+"</pre></td></tr>";if(A!=y){v+='<tr class="test-actual"><th>Result: </th><td><pre>'+A+"</pre></td></tr>";v+='<tr class="test-diff"><th>Diff: </th><td><pre>'+r.diff(y,A)+"</pre></td></tr>"}if(!u){var z=d();if(z){w.source=z;v+='<tr class="test-source"><th>Source: </th><td><pre>'+l(z)+"</pre></td></tr>"}}v+="</table>";r.log(w);t.current.assertions.push({result:!!u,message:v})},url:function(w){w=s(s({},r.urlParams),w);var u="?",v;for(v in w){u+=encodeURIComponent(v)+"="+encodeURIComponent(w[v])+"&"}return g.location.pathname+u.slice(0,-1)},begin:function(){},done:function(){},log:function(){},testStart:function(){},testDone:function(){},moduleStart:function(){},moduleDone:function(){}});if(typeof document==="undefined"||document.readyState==="complete"){t.autorun=true}p(g,"load",function(){r.begin({});var y=s({},t);r.init();s(t,y);t.blocking=false;var B=o("qunit-userAgent");if(B){B.innerHTML=navigator.userAgent}var v=o("qunit-header");if(v){v.innerHTML='<a href="'+r.url({filter:undefined})+'"> '+v.innerHTML+'</a> <label><input name="noglobals" type="checkbox"'+(t.noglobals?' checked="checked"':"")+'>noglobals</label><label><input name="notrycatch" type="checkbox"'+(t.notrycatch?' checked="checked"':"")+">notrycatch</label>";p(v,"change",function(C){var D={};D[C.target.name]=C.target.checked?true:undefined;g.location=r.url(D)})}var A=o("qunit-testrunner-toolbar");if(A){var z=document.createElement("input");z.type="checkbox";z.id="qunit-filter-pass";p(z,"click",function(){var C=document.getElementById("qunit-tests");if(z.checked){C.className=C.className+" hidepass"}else{var D=" "+C.className.replace(/[\n\t\r]/g," ")+" ";C.className=D.replace(/ hidepass /," ")}if(c.sessionStorage){if(z.checked){sessionStorage.setItem("qunit-filter-passed-tests","true")}else{sessionStorage.removeItem("qunit-filter-passed-tests")}}});if(c.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests")){z.checked=true;var x=document.getElementById("qunit-tests");x.className=x.className+" hidepass"}A.appendChild(z);var w=document.createElement("label");w.setAttribute("for","qunit-filter-pass");w.innerHTML="Hide passed tests";A.appendChild(w)}var u=o("qunit-fixture");if(u){t.fixture=u.innerHTML}if(t.autostart){r.start()}});function k(){t.autorun=true;if(t.currentModule){r.moduleDone({name:t.currentModule,failed:t.moduleStats.bad,passed:t.moduleStats.all-t.moduleStats.bad,total:t.moduleStats.all})}var u=o("qunit-banner"),w=o("qunit-tests"),x=+new Date-t.started,y=t.stats.all-t.stats.bad,v=["Tests completed in ",x," milliseconds.<br/>",'<span class="passed">',y,'</span> tests of <span class="total">',t.stats.all,'</span> passed, <span class="failed">',t.stats.bad,"</span> failed."].join("");if(u){u.className=(t.stats.bad?"qunit-fail":"qunit-pass")}if(w){o("qunit-testresult").innerHTML=v}if(typeof document!=="undefined"&&document.title){document.title=(t.stats.bad?"\u2716":"\u2714")+" "+document.title}r.done({failed:t.stats.bad,passed:y,total:t.stats.all,runtime:x})}function f(u){var v=t.filter,x=false;if(!v){return true}var w=v.charAt(0)==="!";if(w){v=v.slice(1)}if(u.indexOf(v)!==-1){return !w}if(w){x=true}return x}function d(){try{throw new Error()}catch(u){if(u.stacktrace){return u.stacktrace.split("\n")[6]}else{if(u.stack){return u.stack.split("\n")[4]}}}}function l(u){if(!u){return""}u=u+"";return u.replace(/[\&"<>\\]/g,function(v){switch(v){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return v}})}function h(u){t.queue.push(u);if(t.autorun&&!t.blocking){n()}}function n(){var u=(new Date()).getTime();while(t.queue.length&&!t.blocking){if(t.updateRate<=0||(((new Date()).getTime()-u)<t.updateRate)){t.queue.shift()()}else{g.setTimeout(n,13);break}}if(!t.blocking&&!t.queue.length){k()}}function q(){t.pollution=[];if(t.noglobals){for(var u in g){t.pollution.push(u)}}}function j(w){var v=t.pollution;q();var u=i(t.pollution,v);if(u.length>0){ok(false,"Introduced global variable(s): "+u.join(", "))}var x=i(v,t.pollution);if(x.length>0){ok(false,"Deleted global variable(s): "+x.join(", "))}}function i(w,v){var u=w.slice();for(var y=0;y<u.length;y++){for(var x=0;x<v.length;x++){if(u[y]===v[x]){u.splice(y,1);y--;break}}}return u}function e(v,u,w){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(v);console.error(u);console.warn(w.toString())}else{if(g.opera&&opera.postError){opera.postError(v,u,w.toString)}}}function s(v,u){for(var w in u){if(u[w]===undefined){delete v[w]}else{v[w]=u[w]}}return v}function p(w,v,u){if(w.addEventListener){w.addEventListener(v,u,false)}else{if(w.attachEvent){w.attachEvent("on"+v,u)}else{u()}}}function o(u){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(u)}r.equiv=function(){var x;var y=[];var u=[];function w(B,A,z){var C=r.objectType(B);if(C){if(r.objectType(A[C])==="function"){return A[C].apply(A,z)}else{return A[C]}}}var v=function(){function z(A,B){if(A instanceof B.constructor||B instanceof A.constructor){return B==A}else{return B===A}}return{string:z,"boolean":z,number:z,"null":z,"undefined":z,nan:function(A){return isNaN(A)},date:function(A,B){return r.objectType(A)==="date"&&B.valueOf()===A.valueOf()},regexp:function(A,B){return r.objectType(A)==="regexp"&&B.source===A.source&&B.global===A.global&&B.ignoreCase===A.ignoreCase&&B.multiline===A.multiline},"function":function(){var A=y[y.length-1];return A!==Object&&typeof A!=="undefined"},array:function(B,D){var F,E,C;var A;if(!(r.objectType(B)==="array")){return false}A=D.length;if(A!==B.length){return false}u.push(D);for(F=0;F<A;F++){C=false;for(E=0;E<u.length;E++){if(u[E]===D[F]){C=true}}if(!C&&!x(D[F],B[F])){u.pop();return false}}u.pop();return true},object:function(B,D){var G,E,C;var A=true;var F=[],H=[];if(D.constructor!==B.constructor){return false}y.push(D.constructor);u.push(D);for(G in D){C=false;for(E=0;E<u.length;E++){if(u[E]===D[G]){C=true}}F.push(G);if(!C&&!x(D[G],B[G])){A=false;break}}y.pop();u.pop();for(G in B){H.push(G)}return A&&x(F.sort(),H.sort())}}}();x=function(){var z=Array.prototype.slice.apply(arguments);if(z.length<2){return true}return(function(B,A){if(B===A){return true}else{if(B===null||A===null||typeof B==="undefined"||typeof A==="undefined"||r.objectType(B)!==r.objectType(A)){return false}else{return w(B,v,[A,B])}}})(z[0],z[1])&&arguments.callee.apply(this,z.splice(1,z.length-1))};return x}();r.jsDump=(function(){function u(A){return'"'+A.toString().replace(/"/g,'\\"')+'"'}function v(A){return A+""}function x(F,A,C){var D=w.separator(),E=w.indent(),B=w.indent(1);if(A.join){A=A.join(","+D+B)}if(!A){return F+C}return[F,B+A,E+C].join(D)}function z(A){var C=A.length,B=Array(C);this.up();while(C--){B[C]=this.parse(A[C])}this.down();return x("[",B,"]")}var y=/^function (\w+)/;var w={parse:function(B,A){var C=this.parsers[A||this.typeOf(B)];A=typeof C;return A=="function"?C.call(this,B):A=="string"?C:this.parsers.error},typeOf:function(B){var A;if(B===null){A="null"}else{if(typeof B==="undefined"){A="undefined"}else{if(r.is("RegExp",B)){A="regexp"}else{if(r.is("Date",B)){A="date"}else{if(r.is("Function",B)){A="function"}else{if(typeof B.setInterval!==undefined&&typeof B.document!=="undefined"&&typeof B.nodeType==="undefined"){A="window"}else{if(B.nodeType===9){A="document"}else{if(B.nodeType){A="node"}else{if(typeof B==="object"&&typeof B.length==="number"&&B.length>=0){A="array"}else{A=typeof B}}}}}}}}}return A},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(A){if(!this.multiline){return""}var B=this.indentChar;if(this.HTML){B=B.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(A||0)).join(B)},up:function(A){this._depth_+=A||1},down:function(A){this._depth_-=A||1},setParser:function(A,B){this.parsers[A]=B},quote:u,literal:v,join:x,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(C){var B="function",A="name" in C?C.name:(y.exec(C)||[])[1];if(A){B+=" "+A}B+="(";B=[B,r.jsDump.parse(C,"functionArgs"),"){"].join("");return x(B,r.jsDump.parse(C,"functionCode"),"}")},array:z,nodelist:z,arguments:z,object:function(C){var A=[];r.jsDump.up();for(var B in C){A.push(r.jsDump.parse(B,"key")+": "+r.jsDump.parse(C[B]))}r.jsDump.down();return x("{",A,"}")},node:function(E){var D=r.jsDump.HTML?"&lt;":"<",G=r.jsDump.HTML?"&gt;":">";var A=E.nodeName.toLowerCase(),C=D+A;for(var B in r.jsDump.DOMAttrs){var F=E[r.jsDump.DOMAttrs[B]];if(F){C+=" "+B+"="+r.jsDump.parse(F,"attribute")}}return C+G+D+"/"+A+G},functionArgs:function(C){var A=C.length;if(!A){return""}var B=Array(A);while(A--){B[A]=String.fromCharCode(97+A)}return" "+B.join(", ")+" "},key:u,functionCode:"[code]",attribute:u,string:u,date:u,regexp:v,number:v,"boolean":v},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:false,indentChar:"  ",multiline:true};return w})();function a(u){var v="",x;for(var w=0;u[w];w++){x=u[w];if(x.nodeType===3||x.nodeType===4){v+=x.nodeValue}else{if(x.nodeType!==8){v+=a(x.childNodes)}}}return v}r.diff=(function(){function u(y,z){var w=new Object();var x=new Object();for(var v=0;v<z.length;v++){if(w[z[v]]==null){w[z[v]]={rows:new Array(),o:null}}w[z[v]].rows.push(v)}for(var v=0;v<y.length;v++){if(x[y[v]]==null){x[y[v]]={rows:new Array(),n:null}}x[y[v]].rows.push(v)}for(var v in w){if(w[v].rows.length==1&&typeof(x[v])!="undefined"&&x[v].rows.length==1){z[w[v].rows[0]]={text:z[w[v].rows[0]],row:x[v].rows[0]};y[x[v].rows[0]]={text:y[x[v].rows[0]],row:w[v].rows[0]}}}for(var v=0;v<z.length-1;v++){if(z[v].text!=null&&z[v+1].text==null&&z[v].row+1<y.length&&y[z[v].row+1].text==null&&z[v+1]==y[z[v].row+1]){z[v+1]={text:z[v+1],row:z[v].row+1};y[z[v].row+1]={text:y[z[v].row+1],row:v+1}}}for(var v=z.length-1;v>0;v--){if(z[v].text!=null&&z[v-1].text==null&&z[v].row>0&&y[z[v].row-1].text==null&&z[v-1]==y[z[v].row-1]){z[v-1]={text:z[v-1],row:z[v].row-1};y[z[v].row-1]={text:y[z[v].row-1],row:v-1}}}return{o:y,n:z}}return function(B,C){B=B.replace(/\s+$/,"");C=C.replace(/\s+$/,"");var w=u(B==""?[]:B.split(/\s+/),C==""?[]:C.split(/\s+/));var A="";var v=B.match(/\s+/g);if(v==null){v=[" "]}else{v.push(" ")}var y=C.match(/\s+/g);if(y==null){y=[" "]}else{y.push(" ")}if(w.n.length==0){for(var x=0;x<w.o.length;x++){A+="<del>"+w.o[x]+v[x]+"</del>"}}else{if(w.n[0].text==null){for(C=0;C<w.o.length&&w.o[C].text==null;C++){A+="<del>"+w.o[C]+v[C]+"</del>"}}for(var x=0;x<w.n.length;x++){if(w.n[x].text==null){A+="<ins>"+w.n[x]+y[x]+"</ins>"}else{var z="";for(C=w.n[x].row+1;C<w.o.length&&w.o[C].text==null;C++){z+="<del>"+w.o[C]+v[C]+"</del>"}A+=" "+w.n[x].text+y[x]+z}}}return A}})()})(this);