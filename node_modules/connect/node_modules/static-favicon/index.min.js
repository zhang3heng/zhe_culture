/*
 * Connect - favicon
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */
var fs=require("fs");var crypto=require("crypto");module.exports=function favicon(e,b){var b=b||{},e=e||__dirname+"/favicon.ico",a=b.maxAge||86400000,d;return function c(h,f,g){if("/favicon.ico"==h.url){if(d){f.writeHead(200,d.headers);f.end(d.body)}else{fs.readFile(e,function(j,i){if(j){return g(j)}d={headers:{"Content-Type":"image/x-icon","Content-Length":i.length,ETag:'"'+md5(i)+'"',"Cache-Control":"public, max-age="+(a/1000)},body:i};f.writeHead(200,d.headers);f.end(d.body)})}}else{g()}}};function md5(b,a){return crypto.createHash("md5").update(b,"utf8").digest(a||"hex")};