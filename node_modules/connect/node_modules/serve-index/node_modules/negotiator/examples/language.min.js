(function(){var c,g,a,b,d,e,f;c=require("../lib/negotiator").Negotiator;a=require("http");d={es:"Â¡Hola Mundo!",en:"Hello World!"};g=(function(){var h;h=[];for(b in d){f=d[b];h.push(b)}return h})();e=a.createServer(function(i,h){var k,j;j=new c(i);console.log("Accept-Language: "+i.headers["accept-language"]);console.log("Preferred: "+(j.languages()));console.log("Possible: "+(j.languages(g)));k=j.language(g);console.log("Selected: "+k);if(k){h.writeHead(200,{"Content-Language":k});return h.end(d[k])}else{h.writeHead(406);return h.end()}});e.listen(8080)}).call(this);