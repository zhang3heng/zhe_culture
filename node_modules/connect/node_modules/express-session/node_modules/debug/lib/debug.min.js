var tty=require("tty");module.exports=debug;var names=[],skips=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(a){a=a.replace("*",".*?");if(a[0]==="-"){skips.push(new RegExp("^"+a.substr(1)+"$"))}else{names.push(new RegExp("^"+a+"$"))}});var colors=[6,2,3,4,5,1];var prev={};var prevColor=0;var isatty=tty.isatty(2);function color(){return colors[prevColor++%colors.length]}function humanize(b){var d=1000,c=60*1000,a=60*c;if(b>=a){return(b/a).toFixed(1)+"h"}if(b>=c){return(b/c).toFixed(1)+"m"}if(b>=d){return(b/d|0)+"s"}return b+"ms"}function debug(b){function e(){}e.enabled=false;var a=skips.some(function(c){return c.test(b)});if(a){return e}a=names.some(function(c){return c.test(b)});if(!a){return e}var g=color();function f(c){c=coerce(c);var i=new Date;var h=i-(prev[b]||i);prev[b]=i;c="  \u001b[9"+g+"m"+b+" \u001b[3"+g+"m\u001b[90m"+c+"\u001b[3"+g+"m +"+humanize(h)+"\u001b[0m";console.error.apply(this,arguments)}function d(c){c=coerce(c);c=new Date().toUTCString()+" "+b+" "+c;console.error.apply(this,arguments)}f.enabled=d.enabled=true;return isatty||process.env.DEBUG_COLORS?f:d}function coerce(a){if(a instanceof Error){return a.stack||a.message}return a};